(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1016:function(e,t,r){Promise.resolve().then(r.bind(r,8558))},8558:function(e,t,r){"use strict";r.d(t,{default:function(){return X}});var a=r(7437),s=r(2265),n=r(1994),l=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m6)((0,n.W)(t))}let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground",r),...s})});o.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:i("text-lg font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:i("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var c=r(7053);let u=(0,r(535).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...o}=e,d=l?c.g7:"button";return(0,a.jsx)(d,{className:i(u({variant:s,size:n,className:r})),ref:t,...o})});m.displayName="Button";let p=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});p.displayName="Input";var h=r(6394);let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.f,{ref:t,className:i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...s})});x.displayName=h.f.displayName;var g=r(9754);let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(g.fC,{ref:t,className:i("relative flex w-full touch-none select-none items-center",r),...s,children:[(0,a.jsx)(g.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(g.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(g.bU,{className:"block h-4 w-4 rounded-full border border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});f.displayName=g.fC.displayName;var j=r(9270),y=r(401);let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(j.fC,{ref:t,className:i("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(j.z$,{className:i("flex items-center justify-center text-primary-foreground"),children:(0,a.jsx)(y.Z,{className:"h-3 w-3"})})})});v.displayName=j.fC.displayName;var b=r(8930),N=r(9397),M=r(3245),C=r(9985),w=r(7625),A=r(8336),Y=r(6940),k=r(7059),R=r(2994),E=r(8147),S=r(2190),F=r(4061),P=r(9249),$=r(875);let T=P.fC,I=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(P.ck,{ref:t,className:i("border-b",r),...s})});I.displayName="AccordionItem";let O=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsx)(P.h4,{className:"flex",children:(0,a.jsxs)(P.xz,{ref:t,className:i("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...n,children:[s,(0,a.jsx)($.Z,{className:"h-4 w-4 transition-transform duration-200"})]})})});O.displayName=P.xz.displayName;let G=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsx)(P.VY,{ref:t,className:i("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",r),...n,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:s})})});G.displayName=P.VY.displayName;var U=r(9376);function z(e){var t;return e&&"object"==typeof e?"number"!=typeof e.version||e.params&&"object"!=typeof e.params?null:{version:e.version,params:null!==(t=e.params)&&void 0!==t?t:void 0}:null}function V(){let e;let t=new Date,r=t.getUTCFullYear()+1,a=(e=1e6*r+(t.getUTCMonth()+1)*1e4+100*t.getUTCDate()+t.getUTCHours()>>>0,()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}),s=W(a,32,46),n=D(s+W(a,-3,3),30,60),l=D(s+W(a,18,24),s+15,68),i=l+W(a,25,33),o=B(a,9e5,22e5,25e3),d=B(a,12e4,26e4,1e4),c=B(a,85e4,135e4,25e3),u=B(a,Math.round(.35*c),Math.round(.6*c),1e4),m=B(a,.0375,.055,5e-4),p=W(a,15,25),h=W(a,1,12),x=function(e,t,r){let a=t/12,s=12*r;return 0===a?Math.round(e/s):Math.round(e*a/(1-Math.pow(1+a,-s)))}(u,m,p),g=B(a,.025,.04,5e-4),f=B(a,6e3,8500,250),j=B(a,900,1400,50),y=B(a,1e4,18e3,1e3),v=B(a,4e4,7e4,2500),b=B(a,.025,.04,5e-4),N=q([{name:"Mortgage 1",principal:u,rate:m,paymentMonthly:x,startYear:r,startMonth:1,endYear:r+p,endMonth:h}]);return{startYear:r,currentAge:s,spouseAge:n,retirementAge:l,maxAge:i,stocks0:o,cash0:d,realEstate0:c,mortgages:N,stockReturn:.07,cashReturn:.02,realEstateReturn:g,inflation:.028,baseMonthly:f,vacationMonthly:j,homeUpgradesAnnual:y,supports:[],contribution0:v,contributionGrowth:b,spendFromStocks:!0,useGlidepath:!0,gpRetMinus20:.1,gpRetMinus10:.085,gpRetMinus5:.065,gpRet0:.05,gpPostRet:.04}}function Z(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){let t=e.trim();if(0===t.length)return null;let r=Number(t);if(Number.isFinite(r))return r}return null}function q(e){return e.map((e,t)=>{let r="string"==typeof e.name&&e.name.trim().length>0?e.name.trim():"Mortgage ".concat(t+1);return{...e,name:r,startMonth:L(e.startMonth,1),endMonth:L(e.endMonth,12)}})}function L(e,t){if("number"!=typeof e||!Number.isFinite(e))return t;let r=Math.round(e);return r<1?1:r>12?12:r}function W(e,t,r){return Math.floor(e()*(r-t+1))+t}function B(e,t,r,a){return Math.round((t+(r-t)*e())/a)*a}function D(e,t,r){return Math.min(Math.max(e,t),r)}function K(e){let t=0,r=0;return e.map(e=>{if("elderCare"===e.category){let r=1===(t+=1)?"Parent":"Parent ".concat(t);return{...e,name:r,model:"linear"}}r+=1;let a="Child ".concat(r);return{...e,name:a,model:"flat",annualIncrease:0}})}let _=e=>{if(!Number.isFinite(e))return 1;let t=Math.round(e);return t<1?1:t>12?12:t};function H(e){return e.map((e,t)=>{var r,a;return{...e,name:e.name&&e.name.trim().length>0?e.name.trim():"Mortgage ".concat(t+1),startMonth:_(null!==(r=e.startMonth)&&void 0!==r?r:1),endMonth:_(null!==(a=e.endMonth)&&void 0!==a?a:12)}})}function J(e){let t=[],r=e.stocks0,a=e.cash0,s=e.realEstate0,n=e.mortgages.map(e=>({plan:e,balance:Math.max(0,e.principal)})),l=e.startYear+(e.maxAge-e.currentAge);for(let i=e.startYear;i<=l;i++){let l=i-e.startYear,o=e.currentAge+l,d=o<e.retirementAge,c=d?e.contribution0*Math.pow(1+e.contributionGrowth,l):0,u=12*e.baseMonthly*Math.pow(1+e.inflation,l),m=12*e.vacationMonthly*Math.pow(1+e.inflation,l),p=e.homeUpgradesAnnual*Math.pow(1+e.inflation,l),h=0;n.forEach(e=>{if(e.balance<=0)return;let{plan:t}=e;for(let r=1;r<=12;r++){if(i<t.startYear||i===t.startYear&&r<t.startMonth||i>t.endYear||i===t.endYear&&r>t.endMonth)continue;if(e.balance<=0)break;let a=e.balance*(t.rate/12),s=Math.min(Math.max(t.paymentMonthly-a,0),e.balance),n=s+a;if(!(n<=0)&&(h+=n,e.balance-=s,e.balance<=0)){e.balance=0;break}}});let x=e.supports.reduce((e,t)=>{let r=function(e,t){if(t<e.startYear||t>e.endYear)return 0;if("linear"===e.model){let r=t-e.startYear;return Math.max(0,e.annualAmount+e.annualIncrease*r)}return Math.max(0,e.annualAmount)}(t,i);return r<=0||(e.total+=r,"elderCare"===t.category?e.elder+=r:e.child+=r),e},{elder:0,child:0,total:0}),g=u+h+m+p,f=g+x.total,j=d?g:0,y=Math.max(f-j,0),v=e.useGlidepath?function(e,t){let r=t.retirementAge-e;return r>=15?t.gpRetMinus20:r>=7&&r<15?t.gpRetMinus10:r>=2&&r<7?t.gpRetMinus5:r>=0&&r<2?t.gpRet0:t.gpPostRet}(o,e):e.stockReturn,b=r*(1+v),N=a*(1+e.cashReturn),M=s*(1+e.realEstateReturn),C=b+c,w=N,A=y;if(e.spendFromStocks){let e=Math.min(C,A);if(C-=e,(A-=e)>0){let e=Math.min(w,A);w-=e,A-=e}}else{let e=Math.min(w,A);if(w-=e,(A-=e)>0){let e=Math.min(C,A);C-=e,A-=e}}let Y=Math.max(0,A)>1e-6;Y&&(C=0,w=0),r=Math.max(0,C),a=Math.max(0,w),s=M;let k=n.reduce((e,t)=>e+Math.max(0,t.balance),0),R=Y?0:r+a+(s-k);t.push({year:i,age:o,stockReturnApplied:v,contribution:c,income:j,expenses:{base:u,mortgage:h,vacation:m,upgrades:p,elderCareSupport:x.elder,childSupport:x.child,supportTotal:x.total},totals:{totalExpenses:f,savingsFundedExpenses:y,stocksEnd:r,cashEnd:a,realEstateEnd:s,mortgage:k,netWorth:R}})}return t}let Q=e=>e.toLocaleString(void 0,{maximumFractionDigits:0});function X(){let e=(0,U.useSearchParams)(),t=(0,s.useRef)(null),r=(0,s.useRef)(null);t.current||(t.current=function(e){let t=V();if(!e)return t;let r=e.get("scenario");if(!r)return t;let a=function(e){try{return z(JSON.parse(e))}catch(r){let t="function"==typeof globalThis.atob?globalThis.atob:null;if(!t)return null;try{return z(JSON.parse(t(e)))}catch(e){return null}}}(r);return a?1!==a.version?(console.warn("Unsupported scenario payload version: ".concat(a.version)),t):a.params&&"object"==typeof a.params?function(e,t){let r={...e,supports:e.supports.map(e=>({...e})),mortgages:e.mortgages.map(e=>({...e}))};if(Object.prototype.hasOwnProperty.call(t,"supports")){let e,a;let s=function(e){if(!Array.isArray(e))return[];let t=[];for(let f of e){var r,a,s,n,l,i,o,d,c,u,m,p,h,x,g;if(!f||"object"!=typeof f)continue;let e=Z(f.startYear),j=null!==(s=Z(null!==(a=null!==(r=f.endYear)&&void 0!==r?r:f.stopYear)&&void 0!==a?a:f.finishYear))&&void 0!==s?s:null!==e?e:null,y=Z(null!==(l=null!==(n=f.annualAmount)&&void 0!==n?n:f.amount)&&void 0!==l?l:f.firstYearAmount);if(null===e||null===j||j<e||null===y||y<=0)continue;let v="string"==typeof(g=null!==(i=f.model)&&void 0!==i?i:f.rateModelType)&&g.trim().toLowerCase().startsWith("lin")?"linear":"flat",b=null!==(m=Z(null!==(u=null!==(c=null!==(d=null!==(o=f.annualIncrease)&&void 0!==o?o:f.increase)&&void 0!==d?d:f.rate)&&void 0!==c?c:f.growth)&&void 0!==u?u:0))&&void 0!==m?m:0,N="string"==typeof f.name&&f.name.trim().length>0?f.name.trim():"linear"===v?"Support Plan (Linear)":"Support Plan (Flat)";t.push({name:N,category:function(e,t){let r="string"==typeof e?e.trim().toLowerCase():"";if(r.includes("child")||r.includes("kid")||r.includes("college")||r.includes("offspring"))return"childSupport";if(r.includes("elder")||r.includes("parent")||r.includes("care")||r.includes("family"))return"elderCare";let a="string"==typeof t?t.trim().toLowerCase():"";return a.includes("child")||a.includes("college")||a.includes("kid")?"childSupport":"elderCare"}(null!==(x=null!==(h=null!==(p=f.category)&&void 0!==p?p:f.type)&&void 0!==h?h:f.kind)&&void 0!==x?x:N,N),startYear:e,endYear:j,annualAmount:y,model:v,annualIncrease:"linear"===v?b:0})}return t}(t.supports);r.supports=(e=0,a=0,s.map(t=>{if("elderCare"===t.category){let r=1===(e+=1)?"Parent":"Parent ".concat(e);return{...t,name:r,model:"linear"}}a+=1;let r="Child ".concat(a);return{...t,name:r,model:"flat",annualIncrease:0}}))}if(Object.prototype.hasOwnProperty.call(t,"mortgages")){let a=function(e,t){if(!Array.isArray(e))return[];let r=[];for(let m of e){var a,s,n,l,i,o,d,c,u;if(!m||"object"!=typeof m)continue;let e=Z(null!==(n=null!==(s=null!==(a=m.principal)&&void 0!==a?a:m.balance)&&void 0!==s?s:m.amount)&&void 0!==n?n:m.mortgage0),p=Z(null!==(l=m.rate)&&void 0!==l?l:m.mortgageRate),h=Z(null!==(o=null!==(i=m.paymentMonthly)&&void 0!==i?i:m.payment)&&void 0!==o?o:m.monthlyPayment),x=null!==(d=Z(m.startYear))&&void 0!==d?d:t,g=L(Z(m.startMonth),1),f=Z(m.endYear),j=L(Z(null!==(u=null!==(c=m.endMonth)&&void 0!==c?c:m.endMonthIndex)&&void 0!==u?u:m.monthEnd),12);null===e||e<=0||null===p||p<0||null===h||h<=0||null===f||f<x||r.push({name:"string"==typeof m.name?m.name:"",principal:e,rate:p,paymentMonthly:h,startYear:x,startMonth:g,endYear:f,endMonth:j})}return r}(t.mortgages,e.startYear);r.mortgages=q(a)}for(let a of Object.keys(e))"supports"!==a&&"mortgages"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r}(t,Object.fromEntries(Object.entries(a.params).filter(e=>{let[,t]=e;return void 0!==t}))):t:t}(e));let[n,l]=(0,s.useState)(()=>{var e;return null!==(e=t.current)&&void 0!==e?e:V()}),[i,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)("idle"),g=(0,s.useMemo)(()=>J(n),[n]),j=n.startYear+(n.maxAge-n.currentAge),y=e=>i?1/Math.pow(1+n.inflation,e-n.startYear):1,P=Array.isArray(n.supports)?n.supports:[],$=Array.isArray(n.mortgages)?n.mortgages:[],W=$.reduce((e,t)=>e+t.principal,0),B=12*n.baseMonthly+12*n.vacationMonthly+n.homeUpgradesAnnual+$.reduce((e,t)=>e+12*t.paymentMonthly,0),D=e=>{l(t=>{let r=Array.isArray(t.supports)?t.supports:[],a=t.startYear;return{...t,supports:K([...r,{name:"",category:e,startYear:a,endYear:"elderCare"===e?a+9:a+3,annualAmount:"elderCare"===e?12e3:1e4,model:"elderCare"===e?"linear":"flat",annualIncrease:"elderCare"===e?1e3:0}])}})},X=(e,t)=>l(r=>{let a=Array.isArray(r.supports)?r.supports:[],s=a[e];if(!s)return r;let n="elderCare"===s.category?"linear":"flat",l={...s,...t,category:s.category,model:n};l.startYear=Math.round(Math.max(0,l.startYear)),l.endYear=Math.round(Math.max(0,l.endYear)),l.annualAmount=Math.max(0,l.annualAmount),l.endYear<l.startYear&&(void 0!==t.endYear&&void 0===t.startYear?l.startYear=l.endYear:l.endYear=l.startYear),"childSupport"===s.category?l.annualIncrease=0:Number.isFinite(l.annualIncrease)||(l.annualIncrease=0);let i=a.map((t,r)=>r===e?l:t);return{...r,supports:K(i)}}),ee=e=>l(t=>{let r=Array.isArray(t.supports)?t.supports:[];if(!r[e])return t;let a=r.filter((t,r)=>r!==e);return{...t,supports:K(a)}}),et=(e,t)=>l(r=>{var a,s;let n=Array.isArray(r.mortgages)?r.mortgages:[],l=n[e];if(!l)return r;let i={...l,...t};i.principal=Math.max(0,i.principal),i.rate=Math.max(0,i.rate),i.paymentMonthly=Math.max(0,i.paymentMonthly),i.startYear=Math.round(i.startYear),i.endYear=Math.round(i.endYear),i.startMonth=_(null!==(a=i.startMonth)&&void 0!==a?a:1),i.endMonth=_(null!==(s=i.endMonth)&&void 0!==s?s:12),i.endYear<i.startYear&&(void 0!==t.endYear&&void 0===t.startYear?i.startYear=i.endYear:i.endYear=i.startYear);let o=n.map((t,r)=>r===e?i:t);return{...r,mortgages:H(o)}}),er=e=>l(t=>{let r=Array.isArray(t.mortgages)?t.mortgages:[];if(!r[e])return t;let a=r.filter((t,r)=>r!==e);return{...t,mortgages:H(a)}}),ea=P.map((e,t)=>({support:e,index:t})),es=ea.filter(e=>"elderCare"===e.support.category),en=ea.filter(e=>"childSupport"===e.support.category),el=$.map((e,t)=>({mortgage:e,index:t})),ei=(0,s.useCallback)(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),eo=(0,s.useCallback)(async()=>{try{var e;ei();let t="function"==typeof window.btoa?window.btoa(JSON.stringify({version:1,params:n})):null;if(!t)throw Error("Missing base64 encoder");let a=new URL(window.location.pathname,window.location.origin);a.searchParams.set("scenario",t);let s=a.toString();if(null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText)await navigator.clipboard.writeText(s);else{let e=document.createElement("textarea");e.value=s,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}h("copied"),r.current=setTimeout(()=>{h("idle"),r.current=null},2500)}catch(e){console.error("Failed to copy scenario link",e),h("error"),r.current=setTimeout(()=>{h("idle"),r.current=null},4e3)}},[ei,n]);return(0,s.useEffect)(()=>()=>ei(),[ei]),(0,s.useEffect)(()=>{let e=V();e.maxAge=65;let t=J(e),r=e.startYear+(e.maxAge-e.currentAge)-e.startYear+1;console.assert(t.length===r,"row count matches span");let a=V();a.maxAge=70,a.mortgages=H([{name:"",principal:1e5,rate:.05,paymentMonthly:1e3,startYear:a.startYear,startMonth:1,endYear:a.startYear+3,endMonth:6}]),console.assert(J(a).filter(e=>e.year>a.mortgages[0].endYear).every(e=>1e-6>Math.abs(e.expenses.mortgage)),"mortgage ends when specified");let s={...V(),spendFromStocks:!0,maxAge:62},n={...V(),spendFromStocks:!1,cash0:1e6,maxAge:62},l=J(s).at(-1),i=J(n).at(-1);console.assert(i.totals.cashEnd<1e6,"cash drawn when not spending from stocks"),console.assert(i.totals.stocksEnd>l.totals.stocksEnd,"stocks higher when using cash first"),console.assert(J({...V(),useGlidepath:!0,retirementAge:60,currentAge:41,maxAge:45}).some(e=>e.stockReturnApplied>0),"glidepath applies returns each year")},[]),(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold flex flex-col gap-1 sm:flex-row sm:items-baseline sm:gap-3",children:[(0,a.jsx)("span",{children:"Lifetime"}),(0,a.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"Because peace of mind is worth planning for."})]}),(0,a.jsx)("p",{className:"text-sm opacity-80",children:"Explore your lifetime finances, modeled privately on your device — no logins, no servers. Move the sliders, add life events, and see how your plan holds up."}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h2",{className:"font-semibold m-0",children:"Timeline for age"}),(0,a.jsx)(p,{"aria-label":"Current age",type:"number",className:"w-24",min:18,max:70,value:n.currentAge,onChange:e=>{let t=Number(e.target.value);if(!Number.isFinite(t))return;let r=Math.min(Math.max(Math.round(t),0),120);l(e=>({...e,currentAge:r,retirementAge:Math.max(r,e.retirementAge)}))},onBlur:()=>l(e=>{let t=Math.max(18,Math.min(e.currentAge,70));return t===e.currentAge?e:{...e,currentAge:t,retirementAge:Math.max(t,e.retirementAge)}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x,{children:["Retirement Age: ",n.retirementAge]}),(0,a.jsx)(f,{className:"w-full",value:[n.retirementAge],min:n.currentAge,max:70,step:1,onValueChange:e=>{let[t]=e;return l(e=>{let r=Math.min(Math.max(t,e.currentAge),70);return r===e.retirementAge?e:{...e,retirementAge:r}})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x,{children:["Projection End Age: ",n.maxAge]}),(0,a.jsx)(f,{value:[n.maxAge],min:70,max:100,step:10,onValueChange:e=>{let[t]=e;return l({...n,maxAge:t})}}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Current age: ",n.currentAge," \xb7 Start year: ",n.startYear," \xb7 End year: ",j]})]}),(0,a.jsx)(T,{type:"single",collapsible:!0,className:"pt-2",children:(0,a.jsxs)(I,{value:"returns",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Return & Inflation Assumptions"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Inflation"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.inflation).toFixed(1),onChange:e=>l({...n,inflation:Number(e.target.value)/100})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,a.jsx)(v,{checked:i,onCheckedChange:e=>c(!!e)}),(0,a.jsx)(x,{className:"m-0 text-sm",children:"Inflation-Adjusted View (today’s dollars)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Cash Yield"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.cashReturn).toFixed(1),onChange:e=>l({...n,cashReturn:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Real Estate Return (%)"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.realEstateReturn).toFixed(1),onChange:e=>l({...n,realEstateReturn:Number(e.target.value)/100})})]}),!n.useGlidepath&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Fixed Stock Return (%)"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.stockReturn).toFixed(1),onChange:e=>l({...n,stockReturn:Number(e.target.value)/100})})]})]})})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(T,{type:"multiple",className:"pt-4",children:[(0,a.jsxs)(I,{value:"starting-balances",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Starting Balances"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Cash"}),(0,a.jsx)(p,{type:"number",value:n.cash0,onChange:e=>l({...n,cash0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Equity (Stocks)"}),(0,a.jsx)(p,{type:"number",value:n.stocks0,onChange:e=>l({...n,stocks0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Value"}),(0,a.jsx)(p,{type:"number",value:n.realEstate0,onChange:e=>l({...n,realEstate0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Total Mortgage Principal (read-only)"}),(0,a.jsx)(p,{readOnly:!0,type:"number",value:Math.round(W),className:"bg-muted"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Update individual mortgages in the Real Estate section."})]})]})})]}),(0,a.jsxs)(I,{value:"cash",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Cash"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Cash"}),(0,a.jsx)(p,{type:"number",value:n.cash0,onChange:e=>l({...n,cash0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Cash Yield"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.cashReturn).toFixed(1),onChange:e=>l({...n,cashReturn:Number(e.target.value)/100})})]})]})})]}),(0,a.jsxs)(I,{value:"equity",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Equity"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Starting Equity (Stocks)"}),(0,a.jsx)(p,{type:"number",value:n.stocks0,onChange:e=>l({...n,stocks0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Annual Contribution"}),(0,a.jsx)(p,{type:"number",value:n.contribution0,onChange:e=>l({...n,contribution0:Number(e.target.value||0)})}),(0,a.jsxs)(x,{children:["Contribution Growth per Year: ",(100*n.contributionGrowth).toFixed(1),"%"]}),(0,a.jsx)(f,{value:[Math.round(1e3*n.contributionGrowth)],min:0,max:100,step:1,onValueChange:e=>{let[t]=e;return l({...n,contributionGrowth:t/1e3})}})]}),(0,a.jsxs)("div",{className:"col-span-2 flex items-center gap-2 pt-2",children:[(0,a.jsx)(v,{checked:n.useGlidepath,onCheckedChange:e=>l({...n,useGlidepath:!!e})}),(0,a.jsx)(x,{className:"m-0",children:"Use Glidepath for Equity Returns"})]}),n.useGlidepath?(0,a.jsxs)("div",{className:"col-span-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 20 =")}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.gpRetMinus20).toFixed(1),onChange:e=>l({...n,gpRetMinus20:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 10 =")}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.gpRetMinus10).toFixed(1),onChange:e=>l({...n,gpRetMinus10:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 5 =")}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.gpRetMinus5).toFixed(1),onChange:e=>l({...n,gpRetMinus5:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Post-retirement (".concat(n.retirementAge,") =")}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.gpPostRet).toFixed(1),onChange:e=>{let t=Number(e.target.value)/100;l({...n,gpPostRet:t,gpRet0:t})}})]})]}):(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(x,{children:"Fixed Stock Return (%)"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.stockReturn).toFixed(1),onChange:e=>l({...n,stockReturn:Number(e.target.value)/100})})]})]})})]}),(0,a.jsxs)(I,{value:"real-estate",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Real Estate"}),(0,a.jsxs)(G,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Value"}),(0,a.jsx)(p,{type:"number",value:n.realEstate0,onChange:e=>l({...n,realEstate0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Return (%)"}),(0,a.jsx)(p,{type:"number",step:"0.1",value:(100*n.realEstateReturn).toFixed(1),onChange:e=>l({...n,realEstateReturn:Number(e.target.value)/100})})]})]}),(0,a.jsx)("h3",{className:"font-medium pt-4",children:"Mortgages"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage balances, rates, and payoff timelines for each mortgage."}),(0,a.jsxs)("div",{className:"space-y-4 pt-2",children:[0===el.length?(0,a.jsx)("div",{className:"rounded-md border border-dashed border-muted-foreground/40 p-4 text-sm text-muted-foreground",children:"No mortgages added yet."}):el.map(e=>{let{mortgage:t,index:r}=e;return(0,a.jsxs)("div",{className:"space-y-3 rounded-md border border-border bg-card/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground",children:t.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Active ",t.startYear,"–",t.endYear]})]}),(0,a.jsx)(m,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>er(r),"aria-label":"Remove ".concat(t.name),children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Principal Outstanding ($)"}),(0,a.jsx)(p,{type:"number",value:t.principal,onChange:e=>et(r,{principal:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Rate (%)"}),(0,a.jsx)(p,{type:"number",step:"0.01",value:(100*t.rate).toFixed(3),onChange:e=>et(r,{rate:Number(e.target.value||0)/100})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Monthly Payment ($)"}),(0,a.jsx)(p,{type:"number",value:t.paymentMonthly,onChange:e=>et(r,{paymentMonthly:Number(e.target.value||0)})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Start Year"}),(0,a.jsx)(p,{type:"number",value:t.startYear,onChange:e=>et(r,{startYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Start Month (1-12)"}),(0,a.jsx)(p,{type:"number",value:t.startMonth,onChange:e=>et(r,{startMonth:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"End Year"}),(0,a.jsx)(p,{type:"number",value:t.endYear,onChange:e=>et(r,{endYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"End Month (1-12)"}),(0,a.jsx)(p,{type:"number",value:t.endMonth,onChange:e=>et(r,{endMonth:Number(e.target.value||0)})})]})]})]},"mortgage-".concat(r,"-").concat(t.startYear,"-").concat(t.endYear))}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>l(e=>{var t,r,a,s,n,l;let i=Array.isArray(e.mortgages)?e.mortgages:[],o=e.startYear,d={name:"",principal:null!==(s=null===(t=i[0])||void 0===t?void 0:t.principal)&&void 0!==s?s:4e5,rate:null!==(n=null===(r=i[0])||void 0===r?void 0:r.rate)&&void 0!==n?n:.045,paymentMonthly:null!==(l=null===(a=i[0])||void 0===a?void 0:a.paymentMonthly)&&void 0!==l?l:2200,startYear:o,startMonth:1,endYear:o+30,endMonth:12};return{...e,mortgages:H([...i,d])}}),children:[(0,a.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Add Mortgage"]})]})]})]}),(0,a.jsxs)(I,{value:"expenses",children:[(0,a.jsx)(O,{className:"text-base font-semibold",children:"Expenses"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Income Funded Expenses"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aim for your earned income to cover these core costs before retirement; after you retire, these will be drawn from your savings."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Base Spending (monthly)"}),(0,a.jsx)(p,{type:"number",value:n.baseMonthly,onChange:e=>l({...n,baseMonthly:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Vacation (monthly)"}),(0,a.jsx)(p,{type:"number",value:n.vacationMonthly,onChange:e=>l({...n,vacationMonthly:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x,{className:"flex items-center gap-2",children:["Home Expenses (annual)",(0,a.jsx)(M.Z,{className:"w-4 h-4 opacity-70","aria-label":"Plan for maintenance, improvements, and recurring home projects."})]}),(0,a.jsx)(p,{type:"number",value:n.homeUpgradesAnnual,onChange:e=>l({...n,homeUpgradesAnnual:Number(e.target.value||0)})})]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-muted px-3 py-2 text-sm font-medium",children:["Annual subtotal: $",Q(B)]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Savings Funded Expenses"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize savings-funded support for family needs."}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-foreground",children:"Elder Care Support"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Set aside funds to assist parents or other elders."})]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>D("elderCare"),children:[(0,a.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Add Parent Support"]})]}),0===es.length?(0,a.jsx)("div",{className:"rounded-md border border-dashed border-muted-foreground/40 p-4 text-sm text-muted-foreground",children:"No parent support planned yet."}):(0,a.jsx)("div",{className:"space-y-4",children:es.map(e=>{let{support:t,index:r}=e;return(0,a.jsxs)("div",{className:"space-y-3 rounded-md border border-border bg-card/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground",children:t.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Starts in ",t.startYear]})]}),(0,a.jsx)(m,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>ee(r),"aria-label":"Remove ".concat(t.name),children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Start Year"}),(0,a.jsx)(p,{type:"number",value:t.startYear,onChange:e=>X(r,{startYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"End Year"}),(0,a.jsx)(p,{type:"number",value:t.endYear,onChange:e=>X(r,{endYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Annual Amount ($)"}),(0,a.jsx)(p,{type:"number",value:t.annualAmount,onChange:e=>X(r,{annualAmount:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Annual Increase ($)"}),(0,a.jsx)(p,{type:"number",value:t.annualIncrease,onChange:e=>X(r,{annualIncrease:Number(e.target.value||0)})})]})]})]},"elder-".concat(r,"-").concat(t.startYear,"-").concat(t.endYear))})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-foreground",children:"Education Support"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Plan for college or other child-related costs."})]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:()=>D("childSupport"),children:[(0,a.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Add Child Support"]})]}),0===en.length?(0,a.jsx)("div",{className:"rounded-md border border-dashed border-muted-foreground/40 p-4 text-sm text-muted-foreground",children:"No child support planned yet."}):(0,a.jsx)("div",{className:"space-y-4",children:en.map(e=>{let{support:t,index:r}=e;return(0,a.jsxs)("div",{className:"space-y-3 rounded-md border border-border bg-card/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fixed annual funding for education costs."})]}),(0,a.jsx)(m,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>ee(r),"aria-label":"Remove ".concat(t.name),children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Start Year"}),(0,a.jsx)(p,{type:"number",value:t.startYear,onChange:e=>X(r,{startYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"End Year"}),(0,a.jsx)(p,{type:"number",value:t.endYear,onChange:e=>X(r,{endYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2 lg:col-span-2",children:[(0,a.jsx)(x,{children:"Annual Amount ($)"}),(0,a.jsx)(p,{type:"number",value:t.annualAmount,onChange:e=>X(r,{annualAmount:Number(e.target.value||0)})})]})]})]},"child-".concat(r,"-").concat(t.startYear,"-").concat(t.endYear))})})]})]})]})]})})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2 sm:flex-row sm:flex-wrap sm:items-center",children:[(0,a.jsxs)(m,{onClick:eo,children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"copied"===u?"Link Copied":"error"===u?"Copy Failed - Try Again":"Save Scenario"]}),"copied"===u&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground","aria-live":"polite",children:"Link copied to clipboard."}),"error"===u&&(0,a.jsx)("span",{className:"text-sm text-destructive","aria-live":"polite",children:"Could not copy link. Please try again."}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tip: The link we create contains your data — copy or bookmark it to save your work."})]})]})}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4 space-y-4",children:[(0,a.jsx)("h2",{className:"font-semibold",children:"Projected Net Worth"}),(0,a.jsx)("div",{className:"w-full h-64",children:(0,a.jsx)(w.h,{children:(0,a.jsxs)(A.w,{data:g.map(e=>({year:e.year,netWorth:e.totals.netWorth*y(e.year),stocks:e.totals.stocksEnd*y(e.year),cash:e.totals.cashEnd*y(e.year),realEstateEquity:(e.totals.realEstateEnd-e.totals.mortgage)*y(e.year)})),children:[(0,a.jsx)(Y.q,{strokeDasharray:"3 3"}),(0,a.jsx)(k.K,{dataKey:"year"}),(0,a.jsx)(R.B,{tickFormatter:e=>"$".concat((e/1e6).toFixed(1),"M")}),(0,a.jsx)(E.u,{formatter:e=>"$".concat(Q(e))}),(0,a.jsx)(S.D,{}),(0,a.jsx)(F.x,{type:"monotone",dataKey:"netWorth",name:"Net Worth",dot:!1,stroke:"#2563eb"}),(0,a.jsx)(F.x,{type:"monotone",dataKey:"stocks",name:"Stocks",dot:!1,stroke:"#16a34a"}),(0,a.jsx)(F.x,{type:"monotone",dataKey:"cash",name:"Cash",dot:!1,stroke:"#f59e0b"}),(0,a.jsx)(F.x,{type:"monotone",dataKey:"realEstateEquity",name:"Real Estate Equity",dot:!1,stroke:"#9333ea"})]})})})]})}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4",children:[(0,a.jsxs)("h2",{className:"font-semibold mb-3",children:["Year-by-Year Table ",i&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"(inflation-adjusted)"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"py-2 pr-3",children:"Year"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Age"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Stock %"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Contribution"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Income"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Base"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Mortgage"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Vacation"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Home Exp."}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Support (Elder)"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Support (Child)"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Support Total"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Total Expenses"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Savings Funded Exp."}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Stocks End"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Cash End"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"RE (Value)"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Mortgage"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Net Worth"})]})}),(0,a.jsx)("tbody",{children:g.map(e=>{let t=y(e.year);return(0,a.jsxs)("tr",{className:"border-b last:border-0",children:[(0,a.jsx)("td",{className:"py-2 pr-3",children:e.year}),(0,a.jsx)("td",{className:"py-2 pr-3",children:e.age}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:[(100*e.stockReturnApplied).toFixed(1),"%"]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.contribution*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.income*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.base*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.mortgage*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.vacation*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.upgrades*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.elderCareSupport*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.childSupport*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.expenses.supportTotal*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-medium",children:["$",Q(e.totals.totalExpenses*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.totals.savingsFundedExpenses*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-medium",children:["$",Q(e.totals.stocksEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.totals.cashEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.totals.realEstateEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",Q(e.totals.mortgage*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-semibold",children:["$",Q(e.totals.netWorth*t)]})]},e.year)})})]})})]})})]})}}},function(e){e.O(0,[511,971,117,744],function(){return e(e.s=1016)}),_N_E=e.O()}]);