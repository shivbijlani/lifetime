(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1016:function(e,t,s){Promise.resolve().then(s.bind(s,8558))},8558:function(e,t,s){"use strict";s.d(t,{default:function(){return L}});var a=s(7437),r=s(2265),n=s(1994),l=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,n.W)(t))}let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground",s),...r})});o.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:i("text-lg font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:i("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:i("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var c=s(7053);let m=(0,s(535).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:l=!1,...o}=e,d=l?c.g7:"button";return(0,a.jsx)(d,{className:i(m({variant:r,size:n,className:s})),ref:t,...o})});u.displayName="Button";let h=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});h.displayName="Input";var p=s(6394);let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(p.f,{ref:t,className:i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...r})});x.displayName=p.f.displayName;var g=s(9754);let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(g.fC,{ref:t,className:i("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,a.jsx)(g.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(g.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(g.bU,{className:"block h-4 w-4 rounded-full border border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});j.displayName=g.fC.displayName;var f=s(9270),y=s(401);let v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(f.fC,{ref:t,className:i("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(f.z$,{className:i("flex items-center justify-center text-primary-foreground"),children:(0,a.jsx)(y.Z,{className:"h-3 w-3"})})})});v.displayName=f.fC.displayName;var b=s(3245),N=s(9985),w=s(7625),k=s(8336),C=s(6940),M=s(7059),E=s(2994),R=s(8147),A=s(2190),S=s(4061),F=s(9249),Y=s(875);let P=F.fC,$=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(F.ck,{ref:t,className:i("border-b",s),...r})});$.displayName="AccordionItem";let T=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsx)(F.h4,{className:"flex",children:(0,a.jsxs)(F.xz,{ref:t,className:i("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...n,children:[r,(0,a.jsx)(Y.Z,{className:"h-4 w-4 transition-transform duration-200"})]})})});T.displayName=F.xz.displayName;let G=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsx)(F.VY,{ref:t,className:i("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",s),...n,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:r})})});G.displayName=F.VY.displayName;var U=s(9376);function V(e){var t;return e&&"object"==typeof e?"number"!=typeof e.version||e.params&&"object"!=typeof e.params?null:{version:e.version,params:null!==(t=e.params)&&void 0!==t?t:void 0}:null}function I(){let e;let t=new Date,s=t.getUTCFullYear()+1,a=(e=1e6*s+(t.getUTCMonth()+1)*1e4+100*t.getUTCDate()+t.getUTCHours()>>>0,()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}),r=K(a,32,46),n=B(r+K(a,-3,3),30,60),l=B(r+K(a,18,24),r+15,68),i=l+K(a,25,33),o=q(a,9e5,22e5,25e3),d=q(a,12e4,26e4,1e4),c=q(a,85e4,135e4,25e3),m=q(a,Math.round(.35*c),Math.round(.6*c),1e4),u=q(a,.0375,.055,5e-4),h=K(a,15,25),p=s+h,x=K(a,1,12),g=function(e,t,s){let a=t/12,r=12*s;return 0===a?Math.round(e/r):Math.round(e*a/(1-Math.pow(1+a,-r)))}(m,u,h),j=q(a,.025,.04,5e-4),f=q(a,6e3,8500,250),y=q(a,900,1400,50),v=q(a,1e4,18e3,1e3),b=s+K(a,1,3),N=q(a,1e3,1800,100),w=b+K(a,8,12),k=Array.from({length:3},(e,t)=>s+3+K(a,2*t,2*t+3)).sort((e,t)=>e-t);return{startYear:s,currentAge:r,spouseAge:n,retirementAge:l,maxAge:i,stocks0:o,cash0:d,realEstate0:c,mortgage0:m,mortgageRate:u,mortgagePaymentMonthly:g,mortgageEndYear:p,mortgageEndMonth:x,stockReturn:.07,cashReturn:.02,realEstateReturn:j,inflation:.028,baseMonthly:f,vacationMonthly:y,homeUpgradesAnnual:v,parentStart:b,parentInc:N,parentEndYear:w,kidsStarts:k,kidsYears:4,kidsAnnual:q(a,8e3,12e3,500),contribution0:q(a,4e4,7e4,2500),contributionGrowth:q(a,.025,.04,5e-4),spendFromStocks:!0,useGlidepath:!0,gpRetMinus20:.1,gpRetMinus10:.085,gpRetMinus5:.065,gpRet0:.05,gpPostRet:.04}}function K(e,t,s){return Math.floor(e()*(s-t+1))+t}function q(e,t,s,a){return Math.round((t+(s-t)*e())/a)*a}function B(e,t,s){return Math.min(Math.max(e,t),s)}function D(e){let t=[],s=e.stocks0,a=e.cash0,r=e.realEstate0,n=e.mortgage0,l=e.mortgageRate/12,i=e.startYear+(e.maxAge-e.currentAge);for(let o=e.startYear;o<=i;o++){let i=o-e.startYear,d=e.currentAge+i,c=d<e.retirementAge,m=c?e.contribution0*Math.pow(1+e.contributionGrowth,i):0,u=12*e.baseMonthly*Math.pow(1+e.inflation,i),h=12*e.vacationMonthly*Math.pow(1+e.inflation,i),p=e.homeUpgradesAnnual*Math.pow(1+e.inflation,i),x=0;if(n>0)for(let t=1;t<=12&&(o<e.mortgageEndYear||o===e.mortgageEndYear&&t<=e.mortgageEndMonth)&&!(n<=0);t++){let t=n*l,s=Math.min(Math.max(e.mortgagePaymentMonthly-t,0),n);x+=s+t,n-=s}let g=0;o>=e.parentStart&&o<=e.parentEndYear&&(g=1e4+e.parentInc*(o-e.parentStart));let j=0;for(let t of e.kidsStarts)o>=t&&o<t+e.kidsYears&&(j+=e.kidsAnnual);let f=u+x+h+p,y=f+g+j,v=c?f:0,b=Math.max(y-v,0),N=e.useGlidepath?function(e,t){let s=t.retirementAge-e;return s>=15?t.gpRetMinus20:s>=7&&s<15?t.gpRetMinus10:s>=2&&s<7?t.gpRetMinus5:s>=0&&s<2?t.gpRet0:t.gpPostRet}(d,e):e.stockReturn,w=s*(1+N),k=a*(1+e.cashReturn),C=r*(1+e.realEstateReturn),M=w+m,E=k,R=b;if(e.spendFromStocks){let e=Math.min(M,R);if(M-=e,(R-=e)>0){let e=Math.min(E,R);E-=e,R-=e}}else{let e=Math.min(E,R);if(E-=e,(R-=e)>0){let e=Math.min(M,R);M-=e,R-=e}}let A=Math.max(0,R)>1e-6;A&&(M=0,E=0),s=Math.max(0,M),a=Math.max(0,E),r=C;let S=A?0:s+a+(r-n);t.push({year:o,age:d,stockReturnApplied:N,contribution:m,income:v,expenses:{base:u,mortgage:x,vacation:h,upgrades:p,parents:g,kids:j},totals:{totalExpenses:y,savingsFundedExpenses:b,stocksEnd:s,cashEnd:a,realEstateEnd:r,mortgage:n,netWorth:S}})}return t}let W=e=>e.toLocaleString(void 0,{maximumFractionDigits:0});function L(){let e=(0,U.useSearchParams)(),t=(0,r.useRef)(null),s=(0,r.useRef)(null);t.current||(t.current=function(e){let t=I();if(!e)return t;let s=e.get("scenario");if(!s)return t;let a=function(e){try{return V(JSON.parse(e))}catch(s){let t="function"==typeof globalThis.atob?globalThis.atob:null;if(!t)return null;try{return V(JSON.parse(t(e)))}catch(e){return null}}}(s);if(!a)return t;if(1!==a.version)return console.warn("Unsupported scenario payload version: ".concat(a.version)),t;if(!a.params||"object"!=typeof a.params)return t;let r=Object.fromEntries(Object.entries(a.params).filter(e=>{let[,t]=e;return void 0!==t}));return{...t,...r}}(e));let[n,l]=(0,r.useState)(()=>{var e;return null!==(e=t.current)&&void 0!==e?e:I()}),[i,c]=(0,r.useState)(!1),[m,p]=(0,r.useState)("idle"),g=(0,r.useMemo)(()=>D(n),[n]),f=n.startYear+(n.maxAge-n.currentAge),y=e=>i?1/Math.pow(1+n.inflation,e-n.startYear):1,F=12*n.baseMonthly+12*n.vacationMonthly+n.homeUpgradesAnnual+12*n.mortgagePaymentMonthly,Y=(0,r.useCallback)(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),K=(0,r.useCallback)(async()=>{try{var e;Y();let t="function"==typeof window.btoa?window.btoa(JSON.stringify({version:1,params:n})):null;if(!t)throw Error("Missing base64 encoder");let a=new URL(window.location.pathname,window.location.origin);a.searchParams.set("scenario",t);let r=a.toString();if(null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText)await navigator.clipboard.writeText(r);else{let e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}p("copied"),s.current=setTimeout(()=>{p("idle"),s.current=null},2500)}catch(e){console.error("Failed to copy scenario link",e),p("error"),s.current=setTimeout(()=>{p("idle"),s.current=null},4e3)}},[Y,n]);return(0,r.useEffect)(()=>()=>Y(),[Y]),(0,r.useEffect)(()=>{let e=I();e.maxAge=65;let t=D(e),s=e.startYear+(e.maxAge-e.currentAge)-e.startYear+1;console.assert(t.length===s,"row count matches span");let a={...I(),mortgage0:1e5,mortgageRate:.05,mortgagePaymentMonthly:1e3,mortgageEndYear:2027,mortgageEndMonth:6,maxAge:70};console.assert(D(a).filter(e=>e.year>a.mortgageEndYear).every(e=>1e-6>Math.abs(e.expenses.mortgage)),"mortgage ends when specified");let r={...I(),spendFromStocks:!0,maxAge:62},n={...I(),spendFromStocks:!1,cash0:1e6,maxAge:62},l=D(r).at(-1),i=D(n).at(-1);console.assert(i.totals.cashEnd<1e6,"cash drawn when not spending from stocks"),console.assert(i.totals.stocksEnd>l.totals.stocksEnd,"stocks higher when using cash first"),console.assert(D({...I(),useGlidepath:!0,retirementAge:60,currentAge:41,maxAge:45}).some(e=>e.stockReturnApplied>0),"glidepath applies returns each year")},[]),(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold flex flex-col gap-1 sm:flex-row sm:items-baseline sm:gap-3",children:[(0,a.jsx)("span",{children:"Lifetime"}),(0,a.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"Because peace of mind is worth planning for."})]}),(0,a.jsx)("p",{className:"text-sm opacity-80",children:"Explore your lifetime finances, modeled privately on your device — no logins, no servers. Move the sliders, add life events, and see how your plan holds up."}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"font-semibold",children:"Timeline"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x,{children:["Retirement Age: ",n.retirementAge]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{type:"number",className:"w-24",min:18,max:70,value:n.currentAge,onChange:e=>{let t=Number(e.target.value);if(!Number.isFinite(t))return;let s=Math.min(Math.max(Math.round(t),0),120);l(e=>({...e,currentAge:s,retirementAge:Math.max(s,e.retirementAge)}))},onBlur:()=>l(e=>{let t=Math.max(18,Math.min(e.currentAge,70));return t===e.currentAge?e:{...e,currentAge:t,retirementAge:Math.max(t,e.retirementAge)}})}),(0,a.jsx)(j,{className:"flex-1",value:[n.retirementAge],min:n.currentAge,max:70,step:1,onValueChange:e=>{let[t]=e;return l(e=>{let s=Math.min(Math.max(t,e.currentAge),70);return s===e.retirementAge?e:{...e,retirementAge:s}})}})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x,{children:["Projection End Age: ",n.maxAge]}),(0,a.jsx)(j,{value:[n.maxAge],min:70,max:100,step:10,onValueChange:e=>{let[t]=e;return l({...n,maxAge:t})}}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Current age: ",n.currentAge," \xb7 Start year: ",n.startYear," \xb7 End year: ",f]})]}),(0,a.jsx)(P,{type:"single",collapsible:!0,className:"pt-2",children:(0,a.jsxs)($,{value:"returns",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Return & Inflation Assumptions"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Inflation"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.inflation).toFixed(1),onChange:e=>l({...n,inflation:Number(e.target.value)/100})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,a.jsx)(v,{checked:i,onCheckedChange:e=>c(!!e)}),(0,a.jsx)(x,{className:"m-0 text-sm",children:"Inflation-Adjusted View (today’s dollars)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Cash Yield"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.cashReturn).toFixed(1),onChange:e=>l({...n,cashReturn:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Real Estate Return (%)"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.realEstateReturn).toFixed(1),onChange:e=>l({...n,realEstateReturn:Number(e.target.value)/100})})]}),!n.useGlidepath&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Fixed Stock Return (%)"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.stockReturn).toFixed(1),onChange:e=>l({...n,stockReturn:Number(e.target.value)/100})})]})]})})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(P,{type:"multiple",className:"pt-4",children:[(0,a.jsxs)($,{value:"starting-balances",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Starting Balances"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Cash"}),(0,a.jsx)(h,{type:"number",value:n.cash0,onChange:e=>l({...n,cash0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Equity (Stocks)"}),(0,a.jsx)(h,{type:"number",value:n.stocks0,onChange:e=>l({...n,stocks0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Value"}),(0,a.jsx)(h,{type:"number",value:n.realEstate0,onChange:e=>l({...n,realEstate0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Mortgage principal outstanding"}),(0,a.jsx)(h,{type:"number",value:n.mortgage0,onChange:e=>l({...n,mortgage0:Number(e.target.value||0)})})]})]})})]}),(0,a.jsxs)($,{value:"cash",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Cash"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Starting Cash"}),(0,a.jsx)(h,{type:"number",value:n.cash0,onChange:e=>l({...n,cash0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Cash Yield"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.cashReturn).toFixed(1),onChange:e=>l({...n,cashReturn:Number(e.target.value)/100})})]})]})})]}),(0,a.jsxs)($,{value:"equity",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Equity"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Starting Equity (Stocks)"}),(0,a.jsx)(h,{type:"number",value:n.stocks0,onChange:e=>l({...n,stocks0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{children:"Annual Contribution"}),(0,a.jsx)(h,{type:"number",value:n.contribution0,onChange:e=>l({...n,contribution0:Number(e.target.value||0)})}),(0,a.jsxs)(x,{children:["Contribution Growth per Year: ",(100*n.contributionGrowth).toFixed(1),"%"]}),(0,a.jsx)(j,{value:[Math.round(1e3*n.contributionGrowth)],min:0,max:100,step:1,onValueChange:e=>{let[t]=e;return l({...n,contributionGrowth:t/1e3})}})]}),(0,a.jsxs)("div",{className:"col-span-2 flex items-center gap-2 pt-2",children:[(0,a.jsx)(v,{checked:n.useGlidepath,onCheckedChange:e=>l({...n,useGlidepath:!!e})}),(0,a.jsx)(x,{className:"m-0",children:"Use Glidepath for Equity Returns"})]}),n.useGlidepath?(0,a.jsxs)("div",{className:"col-span-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 20 =")}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.gpRetMinus20).toFixed(1),onChange:e=>l({...n,gpRetMinus20:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 10 =")}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.gpRetMinus10).toFixed(1),onChange:e=>l({...n,gpRetMinus10:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Retirement age (".concat(n.retirementAge,") − 5 =")}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.gpRetMinus5).toFixed(1),onChange:e=>l({...n,gpRetMinus5:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Post-retirement (".concat(n.retirementAge,") =")}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.gpPostRet).toFixed(1),onChange:e=>{let t=Number(e.target.value)/100;l({...n,gpPostRet:t,gpRet0:t})}})]})]}):(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(x,{children:"Fixed Stock Return (%)"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.stockReturn).toFixed(1),onChange:e=>l({...n,stockReturn:Number(e.target.value)/100})})]})]})})]}),(0,a.jsxs)($,{value:"real-estate",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Real Estate"}),(0,a.jsxs)(G,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Value"}),(0,a.jsx)(h,{type:"number",value:n.realEstate0,onChange:e=>l({...n,realEstate0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Real Estate Return (%)"}),(0,a.jsx)(h,{type:"number",step:"0.1",value:(100*n.realEstateReturn).toFixed(1),onChange:e=>l({...n,realEstateReturn:Number(e.target.value)/100})})]})]}),(0,a.jsx)("h3",{className:"font-medium pt-4",children:"Mortgage Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(x,{children:"Mortgage principal outstanding (today)"}),(0,a.jsx)(h,{type:"number",value:n.mortgage0,onChange:e=>l({...n,mortgage0:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Rate (%)"}),(0,a.jsx)(h,{type:"number",step:"0.01",value:(100*n.mortgageRate).toFixed(3),onChange:e=>l({...n,mortgageRate:Number(e.target.value)/100})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Mortgage Payment (monthly)"}),(0,a.jsx)(h,{type:"number",value:n.mortgagePaymentMonthly,onChange:e=>l({...n,mortgagePaymentMonthly:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Loan End Year"}),(0,a.jsx)(h,{type:"number",value:n.mortgageEndYear,onChange:e=>l({...n,mortgageEndYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Loan End Month (1-12)"}),(0,a.jsx)(h,{type:"number",value:n.mortgageEndMonth,onChange:e=>l({...n,mortgageEndMonth:Number(e.target.value||0)})})]})]})]})]}),(0,a.jsxs)($,{value:"expenses",children:[(0,a.jsx)(T,{className:"text-base font-semibold",children:"Expenses"}),(0,a.jsx)(G,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Income Funded Expenses"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aim for your earned income to cover these core costs before retirement; after you retire, these will be drawn from your savings."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Base Spending (monthly)"}),(0,a.jsx)(h,{type:"number",value:n.baseMonthly,onChange:e=>l({...n,baseMonthly:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Vacation (monthly)"}),(0,a.jsx)(h,{type:"number",value:n.vacationMonthly,onChange:e=>l({...n,vacationMonthly:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x,{className:"flex items-center gap-2",children:["Home Expenses (annual)",(0,a.jsx)(b.Z,{className:"w-4 h-4 opacity-70","aria-label":"Plan for maintenance, improvements, and recurring home projects."})]}),(0,a.jsx)(h,{type:"number",value:n.homeUpgradesAnnual,onChange:e=>l({...n,homeUpgradesAnnual:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Mortgage Payment (monthly)"}),(0,a.jsx)(h,{type:"number",value:n.mortgagePaymentMonthly,onChange:e=>l({...n,mortgagePaymentMonthly:Number(e.target.value||0)})})]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-muted px-3 py-2 text-sm font-medium",children:["Annual subtotal: $",W(F)]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Savings Funded Expenses"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize support that will be funded from savings or portfolio withdrawals."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Parent Support Begins (year)"}),(0,a.jsx)(h,{type:"number",value:n.parentStart,onChange:e=>l({...n,parentStart:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Parent Support Ends (year)"}),(0,a.jsx)(h,{type:"number",value:n.parentEndYear,onChange:e=>l({...n,parentEndYear:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Annual Increase for Parents ($)"}),(0,a.jsx)(h,{type:"number",value:n.parentInc,onChange:e=>l({...n,parentInc:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Kids Cost (annual)"}),(0,a.jsx)(h,{type:"number",value:n.kidsAnnual,onChange:e=>l({...n,kidsAnnual:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{children:"Kids Support Duration (years)"}),(0,a.jsx)(h,{type:"number",value:n.kidsYears,onChange:e=>l({...n,kidsYears:Number(e.target.value||0)})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(x,{children:"Kids Start Years (comma separated)"}),(0,a.jsx)(h,{type:"text",value:n.kidsStarts.join(", "),onChange:e=>{let t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0).map(e=>Number(e)).filter(e=>Number.isFinite(e)).sort((e,t)=>e-t);l({...n,kidsStarts:t})}})]})]})]})]})})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2 sm:flex-row sm:flex-wrap sm:items-center",children:[(0,a.jsxs)(u,{onClick:K,children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"copied"===m?"Link Copied":"error"===m?"Copy Failed - Try Again":"Save Scenario"]}),"copied"===m&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground","aria-live":"polite",children:"Link copied to clipboard."}),"error"===m&&(0,a.jsx)("span",{className:"text-sm text-destructive","aria-live":"polite",children:"Could not copy link. Please try again."}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tip: The link we create contains your data — copy or bookmark it to save your work."})]})]})}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4 space-y-4",children:[(0,a.jsx)("h2",{className:"font-semibold",children:"Projected Net Worth"}),(0,a.jsx)("div",{className:"w-full h-64",children:(0,a.jsx)(w.h,{children:(0,a.jsxs)(k.w,{data:g.map(e=>({year:e.year,netWorth:e.totals.netWorth*y(e.year),stocks:e.totals.stocksEnd*y(e.year),cash:e.totals.cashEnd*y(e.year),realEstateEquity:(e.totals.realEstateEnd-e.totals.mortgage)*y(e.year)})),children:[(0,a.jsx)(C.q,{strokeDasharray:"3 3"}),(0,a.jsx)(M.K,{dataKey:"year"}),(0,a.jsx)(E.B,{tickFormatter:e=>"$".concat((e/1e6).toFixed(1),"M")}),(0,a.jsx)(R.u,{formatter:e=>"$".concat(W(e))}),(0,a.jsx)(A.D,{}),(0,a.jsx)(S.x,{type:"monotone",dataKey:"netWorth",name:"Net Worth",dot:!1,stroke:"#2563eb"}),(0,a.jsx)(S.x,{type:"monotone",dataKey:"stocks",name:"Stocks",dot:!1,stroke:"#16a34a"}),(0,a.jsx)(S.x,{type:"monotone",dataKey:"cash",name:"Cash",dot:!1,stroke:"#f59e0b"}),(0,a.jsx)(S.x,{type:"monotone",dataKey:"realEstateEquity",name:"Real Estate Equity",dot:!1,stroke:"#9333ea"})]})})})]})}),(0,a.jsx)(o,{className:"shadow-md",children:(0,a.jsxs)(d,{className:"p-4",children:[(0,a.jsxs)("h2",{className:"font-semibold mb-3",children:["Year-by-Year Table ",i&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"(inflation-adjusted)"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b",children:[(0,a.jsx)("th",{className:"py-2 pr-3",children:"Year"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Age"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Stock %"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Contribution"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Income"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Base"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Mortgage"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Vacation"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Home Exp."}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Parents"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Kids"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Total Expenses"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Savings Funded Exp."}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Stocks End"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Cash End"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"RE (Value)"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Mortgage"}),(0,a.jsx)("th",{className:"py-2 pr-3",children:"Net Worth"})]})}),(0,a.jsx)("tbody",{children:g.map(e=>{let t=y(e.year);return(0,a.jsxs)("tr",{className:"border-b last:border-0",children:[(0,a.jsx)("td",{className:"py-2 pr-3",children:e.year}),(0,a.jsx)("td",{className:"py-2 pr-3",children:e.age}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:[(100*e.stockReturnApplied).toFixed(1),"%"]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.contribution*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.income*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.base*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.mortgage*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.vacation*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.upgrades*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.parents*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.expenses.kids*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-medium",children:["$",W(e.totals.totalExpenses*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.totals.savingsFundedExpenses*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-medium",children:["$",W(e.totals.stocksEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.totals.cashEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.totals.realEstateEnd*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3",children:["$",W(e.totals.mortgage*t)]}),(0,a.jsxs)("td",{className:"py-2 pr-3 font-semibold",children:["$",W(e.totals.netWorth*t)]})]},e.year)})})]})})]})})]})}}},function(e){e.O(0,[414,971,117,744],function(){return e(e.s=1016)}),_N_E=e.O()}]);